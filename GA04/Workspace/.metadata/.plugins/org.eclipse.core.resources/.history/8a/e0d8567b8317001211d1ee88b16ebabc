<?xml version="1.0" encoding="UTF-8"?>
<core:AadlSpec xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:core="http:///AADL/core" xmlns:property="http:///AADL/property" name="SystemConfiguration">
  <aadlPackage name="SystemConfigurations">
    <aadlPublic>
      <systemType name="mysystem"/>
      <systemImpl name="mysystem.BJCCSys" compType="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemType[@name=mysystem]">
        <properties>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Processor_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]/subcomponents/processSubcomponent[@name=ActuInterf]">
            <comment>F02: end to end flow control_panel.cmd_flow -> C05 -> DeviceManagment.cmd_inout_flow </comment>
            <comment>-> C02 -> SafetyControlManagment.</comment>
            <comment>TODO: Flow Latency analysis: add system level flows here to evaluate the scenarios 1 and 2</comment>
            <comment> TODO: Resource allocation analysis: complete/change/add the mapping of </comment>
            <comment> processes to hardware elements depending on the processing and memory </comment>
            <comment> budgets.</comment>
            <comment>Processor 1</comment>
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor1]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Processor_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=SafetyControlManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=SafetyManager.Impl]/subcomponents/processSubcomponent[@name=CActuators]">
            <comment>Processor 2</comment>
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor1]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Processor_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]/subcomponents/processSubcomponent[@name=SenInterf]">
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor2]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Processor_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]/subcomponents/processSubcomponent[@name=CtrlPanelInterf]">
            <comment>Processor 3</comment>
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor2]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Memory_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]/subcomponents/processSubcomponent[@name=CtrlPanelInterf]">
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor2] /aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/processorImpl[@name=ARM.hybrid]/subcomponents/memorySubcomponent[@name=MemBank2]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Memory_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]/subcomponents/processSubcomponent[@name=SenInterf]">
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor2] /aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/processorImpl[@name=ARM.hybrid]/subcomponents/memorySubcomponent[@name=MemBank2]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Memory_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]/subcomponents/processSubcomponent[@name=ActuInterf]">
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor1] /aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/processorImpl[@name=ARM.hybrid]/subcomponents/memorySubcomponent[@name=MemBank1]"/>
          </propertyAssociation>
          <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Actual_Memory_Binding]" appliesTo="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=SafetyControlManagement] /aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=SafetyManager.Impl]/subcomponents/processSubcomponent[@name=CActuators]">
            <propertyValue xsi:type="property:ReferenceValue" referenceElement="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform] /aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]/subcomponents/processorSubcomponent[@name=Processor1] /aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/processorImpl[@name=ARM.hybrid]/subcomponents/memorySubcomponent[@name=MemBank2]"/>
          </propertyAssociation>
        </properties>
        <connections>
          <busAccessConnection name="BusAccessConnection1" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" src="/aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemType[@name=ComputingPlatform]/features/busAccess[@name=BusAccess1]" dst="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=BJCCSystem]/features/busAccess[@name=BusAccess1]"/>
          <busAccessConnection name="BusAccessConnection2" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=Platform]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=SafetyControlManagement]" src="/aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemType[@name=ComputingPlatform]/features/busAccess[@name=BusAccess1]" dst="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=BJCCSystem]/features/busAccess[@name=BusAccess1]"/>
          <portGroupConnection name="C01" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/deviceSubcomponent[@name=weight_sensor]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" src="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=Sensors]/features/portGroup[@name=data_out]" dst="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/features/portGroup[@name=sensor_in]"/>
          <portGroupConnection name="C02" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=SafetyControlManagement]" src="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/features/portGroup[@name=device_out]" dst="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=SafetyManager]/features/portGroup[@name=device_in]"/>
          <portGroupConnection name="C03" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=SafetyControlManagement]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" src="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=SafetyManager]/features/portGroup[@name=device_out]" dst="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/features/portGroup[@name=device_in]"/>
          <portGroupConnection name="C04" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/deviceSubcomponent[@name=control_panel]" src="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/features/portGroup[@name=controlsig_out]" dst="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=ControlPanel]/features/portGroup[@name=signal]"/>
          <portGroupConnection name="C05" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/deviceSubcomponent[@name=control_panel]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" src="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=ControlPanel]/features/portGroup[@name=control]" dst="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/features/portGroup[@name=controlcmd_in]"/>
          <portGroupConnection name="C06" srcContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]" dstContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/deviceSubcomponent[@name=feeder]" src="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/features/portGroup[@name=actuator_out]" dst="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=Actuators]/features/portGroup[@name=cmd]"/>
        </connections>
        <flows>
          <endToEndFlow name="F01">
            <flowElement flowSpec="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=Sensors]/flowSpecs/flowSourceSpec[@name=flow1]" flowContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/deviceSubcomponent[@name=weight_sensor]"/>
            <flowElement connection="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/connections/portGroupConnection[@name=C01]"/>
            <flowElement flowSpec="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/flowSpecs/flowPathSpec[@name=sensor_inout_flow]" flowContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]"/>
            <flowElement connection="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/connections/portGroupConnection[@name=C02]"/>
            <flowElement flowSpec="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=SafetyManager]/flowSpecs/flowPathSpec[@name=weight_inout_flow]" flowContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=SafetyControlManagement]"/>
            <flowElement connection="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/connections/portGroupConnection[@name=C03]"/>
            <flowElement flowSpec="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemType[@name=DeviceManager]/flowSpecs/flowPathSpec[@name=signal_inout_flow]" flowContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/systemSubcomponent[@name=DeviceManagement]"/>
            <flowElement connection="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/connections/portGroupConnection[@name=C04]"/>
            <flowElement flowSpec="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=ControlPanel]/flowSpecs/flowSinkSpec[@name=signal_flow]" flowContext="/aadlSpec[@name=SystemConfiguration]/aadlPackage[@name=SystemConfigurations]/aadlPublic/systemImpl[@name=mysystem.BJCCSys]/subcomponents/deviceSubcomponent[@name=control_panel]"/>
          </endToEndFlow>
        </flows>
        <subcomponents>
          <systemSubcomponent name="Platform" classifier="/aadlSpec[@name=HardwarePlatform]/aadlPackage[@name=HardwarePlatform]/aadlPublic/systemImpl[@name=ComputingPlatform.Config3]"/>
          <systemSubcomponent name="DeviceManagement" classifier="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=DeviceManager.Impl]"/>
          <systemSubcomponent name="SafetyControlManagement" classifier="/aadlSpec[@name=BJSystem]/aadlPackage[@name=BJSystem]/aadlPublic/systemImpl[@name=SafetyManager.Impl]"/>
          <deviceSubcomponent name="PilotDisplay" classifier="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=ControlPanel]"/>
          <deviceSubcomponent name="weight_sensor" classifier="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=Sensors]"/>
          <deviceSubcomponent name="control_panel" classifier="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=ControlPanel]"/>
          <deviceSubcomponent name="feeder" classifier="/aadlSpec[@name=HardwareParts]/aadlPackage[@name=HardwareParts]/aadlPublic/deviceType[@name=Actuators]"/>
        </subcomponents>
      </systemImpl>
    </aadlPublic>
  </aadlPackage>
</core:AadlSpec>
